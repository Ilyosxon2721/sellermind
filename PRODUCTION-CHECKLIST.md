# ‚úÖ PRODUCTION DEPLOYMENT CHECKLIST

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —á–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω.

---

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

- [ ] `APP_DEBUG=false` –≤ `.env`
- [ ] `APP_ENV=production` –≤ `.env`
- [ ] `APP_KEY` —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ —É–Ω–∏–∫–∞–ª–µ–Ω
- [ ] `.env` —Ñ–∞–π–ª –ù–ï –≤ git (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å `.gitignore`)
- [ ] –í—Å–µ –ø–∞—Ä–æ–ª–∏ –ë–î —Å–ª–æ–∂–Ω—ã–µ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∞–∫—Ç–∏–≤–µ–Ω
- [ ] –§–∞–π—Ä–≤–æ–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω (UFW –∏–ª–∏ iptables)
- [ ] –ó–∞–∫—Ä—ã—Ç—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ—Ä—Ç—ã (–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ 80, 443, 22)
- [ ] SSH –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á–∞–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] Fail2ban —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞

---

## üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–•

- [ ] –ë–î —Å–æ–∑–¥–∞–Ω–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π `utf8mb4_unicode_ci`
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î —Å–æ–∑–¥–∞–Ω —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
- [ ] –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã (`php artisan migrate --force`)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã –ë–î
- [ ] Warehouse SKUs —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (`php artisan warehouse:sync-variants`)

---

## ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

- [ ] `.env` –∑–∞–ø–æ–ª–Ω–µ–Ω –≤—Å–µ–º–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:
  - [ ] `APP_URL` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
  - [ ] `DB_*` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ë–î
  - [ ] `REDIS_*` - Redis –Ω–∞—Å—Ç—Ä–æ–µ–Ω
  - [ ] `MAIL_*` - –ø–æ—á—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
  - [ ] `WB_API_KEY` - Wildberries API
  - [ ] `OZON_CLIENT_ID` –∏ `OZON_API_KEY`
  - [ ] `UZUM_API_KEY`
  - [ ] `YM_API_KEY`

- [ ] `LOG_LEVEL=error` (–Ω–µ debug)
- [ ] `QUEUE_CONNECTION=redis`
- [ ] `CACHE_STORE=redis`
- [ ] `SESSION_DRIVER=redis`

---

## üöÄ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø

- [ ] Composer –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
  ```bash
  composer install --optimize-autoloader --no-dev
  ```

- [ ] Autoload –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω:
  ```bash
  composer dump-autoload --optimize --classmap-authoritative
  ```

- [ ] Laravel –∫—ç—à–∏ —Å–æ–∑–¥–∞–Ω—ã:
  ```bash
  php artisan config:cache
  php artisan route:cache
  php artisan view:cache
  php artisan event:cache
  ```

- [ ] OPcache –≤–∫–ª—é—á–µ–Ω –≤ PHP
- [ ] PHP-FPM –Ω–∞—Å—Ç—Ä–æ–µ–Ω (pm.max_children = 20-50)

---

## üë∑ QUEUE WORKERS

- [ ] Supervisor —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è supervisor —Å–æ–∑–¥–∞–Ω–∞ –≤ `/etc/supervisor/conf.d/`
- [ ] Workers –∑–∞–ø—É—â–µ–Ω—ã: `sudo supervisorctl status`
- [ ] –ú–∏–Ω–∏–º—É–º 4 worker –ø—Ä–æ—Ü–µ—Å—Å–∞
- [ ] –õ–æ–≥–∏ workers –¥–æ—Å—Ç—É–ø–Ω—ã: `/var/www/sellermind-ai/storage/logs/worker.log`

---

## ‚è∞ –ü–õ–ê–ù–ò–†–û–í–©–ò–ö (CRON)

- [ ] Cron –∑–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–ª—è www-data:
  ```cron
  * * * * * cd /var/www/sellermind-ai && php artisan schedule:run >> /dev/null 2>&1
  ```

- [ ] –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `php artisan schedule:list`)

---

## üåê WEB –°–ï–†–í–ï–† (NGINX)

- [ ] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] Root –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `/var/www/sellermind-ai/public`
- [ ] SSL –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Let's Encrypt)
- [ ] –†–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS
- [ ] `client_max_body_size` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–º–∏–Ω–∏–º—É–º 20M)
- [ ] Gzip –∫–æ–º–ø—Ä–µ—Å—Å–∏—è –≤–∫–ª—é—á–µ–Ω–∞
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

---

## üì¶ REDIS

- [ ] Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] `redis-cli ping` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `PONG`
- [ ] Persistence –Ω–∞—Å—Ç—Ä–æ–µ–Ω (RDB –∏–ª–∏ AOF)
- [ ] Maxmemory policy —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–Ω–∞–ø—Ä. `allkeys-lru`)

---

## üìÅ –§–ê–ô–õ–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê

- [ ] –ü—Ä–∞–≤–∞ –Ω–∞ `storage/` –∏ `bootstrap/cache/`:
  ```bash
  chmod -R 755 storage bootstrap/cache
  chown -R www-data:www-data storage bootstrap/cache
  ```

- [ ] `.env` –∑–∞—â–∏—â–µ–Ω:
  ```bash
  chmod 644 .env
  chown www-data:www-data .env
  ```

- [ ] –õ–æ–≥–∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è (logrotate –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

---

## üîó –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

- [ ] Wildberries API –∫–ª—é—á –≤–∞–ª–∏–¥–µ–Ω
- [ ] Ozon API credentials –≤–∞–ª–∏–¥–Ω—ã
- [ ] Uzum Market API –∫–ª—é—á –≤–∞–ª–∏–¥–µ–Ω
- [ ] Yandex Market API –∫–ª—é—á –≤–∞–ª–∏–¥–µ–Ω
- [ ] –í—Å–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –∞–∫–∫–∞—É–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì

- [ ] –õ–æ–≥–∏ Laravel: `storage/logs/laravel.log`
- [ ] –õ–æ–≥–∏ Nginx: `/var/log/nginx/sellermind-error.log`
- [ ] –õ–æ–≥–∏ Queue: `storage/logs/worker.log`
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] Uptime –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (UptimeRobot, Pingdom –∏ —Ç.–¥.)

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```bash
php artisan tinker --execute="DB::connection()->getPdo(); echo 'DB OK';"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis
```bash
php artisan tinker --execute="Redis::set('test', 'ok'); echo Redis::get('test');"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Queue
```bash
php artisan queue:work redis --once
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
```bash
php artisan route:list | grep -i "api/sales"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
php artisan config:show app
```

---

## üö® –û–¢–ö–ê–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô

–í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º:

```bash
# 1. –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–π
php artisan migrate:rollback --step=1

# 2. –û—Ç–∫–∞—Ç –∫–æ–¥–∞
git reset --hard HEAD~1

# 3. –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
php artisan cache:clear
php artisan config:clear

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ workers
sudo supervisorctl restart sellermind-worker:*

# 5. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î –∏–∑ –±—ç–∫–∞–ø–∞
mysql -u sellermind_user -p sellermind_ai_prod < backup_20231225.sql
```

---

## üìù POST-DEPLOY

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

- [ ] –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ø—Ä–æ–¥–∞–∂—É
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ queue workers –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–¥–∞—á–∏
- [ ] –£–≤–µ–¥–æ–º–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¥–µ–ø–ª–æ—è

---

## üìû –ö–û–ù–¢–ê–ö–¢–´ –í –°–õ–£–ß–ê–ï –ü–†–û–ë–õ–ï–ú

- **DevOps**: [–∫–æ–Ω—Ç–∞–∫—Ç]
- **Backend Lead**: [–∫–æ–Ω—Ç–∞–∫—Ç]
- **–•–æ—Å—Ç–∏–Ω–≥ –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: [–∫–æ–Ω—Ç–∞–∫—Ç]

---

## üéØ –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- [ ] Response time < 200ms
- [ ] Uptime > 99.9%
- [ ] Error rate < 0.1%
- [ ] Queue processing < 60s

---

‚úÖ **–í–°–ï –ü–£–ù–ö–¢–´ –û–¢–ú–ï–ß–ï–ù–´ - –ì–û–¢–û–í–´ –ö –î–ï–ü–õ–û–Æ!**
