# –ò—Ç–æ–≥–∏ —Å–µ—Å—Å–∏–∏: 15 –¥–µ–∫–∞–±—Ä—è 2025

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –ò–∑—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø–µ—á–∞—Ç–∏ —Å—Ç–∏–∫–µ—Ä–æ–≤

**–ó–∞–¥–∞—á–∞**: –ò–∑—É—á–∏—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—á–∞—Ç—å —Å—Ç–∏–∫–µ—Ä–æ–≤ –¥–ª—è –∑–∞–∫–∞–∑–æ–≤, –ø–æ—Å—Ç–∞–≤–æ–∫ –∏ –∫–æ—Ä–æ–±–æ–≤.

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–æ–∑–¥–∞–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è [STICKER_PRINTING_GUIDE.md](STICKER_PRINTING_GUIDE.md) (85+ —Å—Ç—Ä–∞–Ω–∏—Ü), –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è:
- –ü–µ—á–∞—Ç—å —Å—Ç–∏–∫–µ—Ä–æ–≤ –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
- –ü–µ—á–∞—Ç—å —Å—Ç–∏–∫–µ—Ä–æ–≤ –¥–ª—è –ø–æ—Å—Ç–∞–≤–æ–∫
- –ü–µ—á–∞—Ç—å QR-–∫–æ–¥–æ–≤ –¥–ª—è –∫–æ—Ä–æ–±–æ–≤
- Workflow –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã

---

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—á–∞—Ç–∏ —Å—Ç–∏–∫–µ—Ä–æ–≤ –∑–∞–∫–∞–∑–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–µ—á–∞—Ç—å —Å—Ç–∏–∫–µ—Ä–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ WB API.

**–ü—Ä–∏—á–∏–Ω—ã**:
1. Frontend –ø–µ—Ä–µ–¥–∞–≤–∞–ª `order_ids` –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏, –∞ WB API –æ–∂–∏–¥–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
2. WB API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å base64-–∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º, –∞ –Ω–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ**:

1. **MarketplaceOrderController.php** (—Å—Ç—Ä–æ–∫–∏ 365-366):
   ```php
   // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è order_ids –≤ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞
   $orderIds = array_map('intval', $request->order_ids);
   ```

2. **WildberriesOrderService.php** (—Å—Ç—Ä–æ–∫–∏ 676-714):
   ```php
   // –û–±—Ä–∞–±–æ—Ç–∫–∞ JSON –æ—Ç–≤–µ—Ç–∞ –æ—Ç WB API
   $response = $this->httpClient->postBinary(...);
   $fileContent = $response;

   // –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ—Ç–≤–µ—Ç JSON
   if (substr($response, 0, 1) === '{' || substr($response, 0, 1) === '[') {
       $json = json_decode($response, true);
       if (json_last_error() === JSON_ERROR_NONE && isset($json['stickers'])) {
           // –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ base64
           $fileContent = base64_decode($json['stickers'][0]['file']);
       }
   }
   ```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
- ‚úÖ –°—Ç–∏–∫–µ—Ä –ø–æ–ª—É—á–µ–Ω: 17102 –±–∞–π—Ç (JSON) ‚Üí 12748 –±–∞–π—Ç (PNG)
- ‚úÖ –§–æ—Ä–º–∞—Ç: PNG image data, 580 x 400, 8-bit/color RGB
- ‚úÖ –§–∞–π–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [STICKER_FIX_SUMMARY.md](STICKER_FIX_SUMMARY.md)

---

### 3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ–±–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**:
```
The route api/supplies/250/tares could not be found.
```

**–ü—Ä–∏—á–∏–Ω–∞**: Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–ª –∑–∞–ø—Ä–æ—Å –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ `marketplace`.

**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª—ë–Ω —Ñ–∞–π–ª `resources/views/pages/marketplace/orders.blade.php` (—Å—Ç—Ä–æ–∫–∞ 588):

```javascript
// –ë—ã–ª–æ:
const response = await axios.post(`/api/supplies/${this.selectedSupplyForTare.id}/tares`, ...);

// –°—Ç–∞–ª–æ:
const response = await axios.post(`/api/marketplace/supplies/${this.selectedSupplyForTare.id}/tares`, ...);
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [TARE_FIX_SUMMARY.md](TARE_FIX_SUMMARY.md)

---

### 4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ Tare –∏ —Å–≤—è–∑–µ–π —Å –∑–∞–∫–∞–∑–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞ 500:
```
include(...app/Models/MarketplaceOrder.php): Failed to open stream: No such file or directory
```

**–ü—Ä–∏—á–∏–Ω–∞**: –ú–æ–¥–µ–ª—å `Tare` —Å—Å—ã–ª–∞–ª–∞—Å—å –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Å `MarketplaceOrder` (—Å—Ç–∞—Ä–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ `WbOrder`).

**–†–µ—à–µ–Ω–∏–µ**:

1. **app/Models/Tare.php** (—Å—Ç—Ä–æ–∫–∞ 31):
   ```php
   // –ë—ã–ª–æ:
   public function orders(): HasMany {
       return $this->hasMany(MarketplaceOrder::class, 'tare_id');
   }

   // –°—Ç–∞–ª–æ:
   public function orders(): HasMany {
       return $this->hasMany(WbOrder::class, 'tare_id');
   }
   ```

2. **–°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è** `2025_12_15_054624_add_tare_id_to_wb_orders_table.php`:
   ```php
   Schema::table('wb_orders', function (Blueprint $table) {
       $table->unsignedBigInteger('tare_id')->nullable()->after('supply_id');
       $table->foreign('tare_id')->references('id')->on('tares')->onDelete('set null');
   });
   ```

3. **app/Models/WbOrder.php**:
   - –î–æ–±–∞–≤–ª–µ–Ω `'tare_id'` –≤ –º–∞—Å—Å–∏–≤ `$fillable`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–≤—è–∑—å `tare()`

4. **app/Http/Controllers/Api/TareController.php**:
   - –û–±–Ω–æ–≤–ª—ë–Ω –∏–º–ø–æ—Ä—Ç: `use App\Models\WbOrder;`
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `index()`, `show()`, `addOrder()`, `removeOrder()`
   - –ò–∑–º–µ–Ω–µ–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π —Å `wb_*` –Ω–∞ –Ω–æ–≤—ã–µ (`article`, `nm_id`, `total_amount`)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ö–æ—Ä–æ–±–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ—Ä–æ–±–∞–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [TARE_MODEL_FIX.md](TARE_MODEL_FIX.md)

---

### 5. ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞–ª—é—Ç

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∏—Å—Ç–µ–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞ –≤—Å–µ –≤–∞–ª—é—Ç—ã –∫–∞–∫ "—Ä—É–±–ª–∏", —Ö–æ—Ç—è –∑–∞–∫–∞–∑—ã –º–æ–≥—É—Ç –±—ã—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö (–±–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —Ä—É–±–ª—å, —É–∑–±–µ–∫—Å–∫–∏–π —Å—É–º –∏ —Ç.–¥.).

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤–∞–ª—é—Ç—É –ø–æ –∫–æ–¥—É ISO 4217
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å "–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–∞–ª—é—Ç—É" (—É–∑–±–µ–∫—Å–∫–∏–π —Å—É–º)
- –£—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ —Ä–∞–∑–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–∞–ª—é—Ç–∞–º–∏

**–†–µ—à–µ–Ω–∏–µ**:

1. **–°–æ–∑–¥–∞–Ω CurrencyHelper** (`app/Helpers/CurrencyHelper.php`):
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 9 –≤–∞–ª—é—Ç: RUB, BYN, UZS, KZT, KGS, AMD, AZN, USD, EUR
   - –ú–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è, –∫–æ–¥–∞ –∏ —Å–∏–º–≤–æ–ª–∞ –≤–∞–ª—é—Ç—ã
   - –ú–µ—Ç–æ–¥ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–Ω—ã —Å —Å–∏–º–≤–æ–ª–æ–º –≤–∞–ª—é—Ç—ã
   - –ú–µ—Ç–æ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏–∑ –∫–æ–ø–µ–µ–∫ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–∞–ª—é—Ç—É

2. **–û–±–Ω–æ–≤–ª—ë–Ω MarketplaceOrderController.php** (—Å—Ç—Ä–æ–∫–∏ 116-122):
   ```php
   // –ë—ã–ª–æ:
   '–¶–µ–Ω–∞' => $wbOrder->price ? (number_format($wbOrder->price / 100, 2, '.', ' ') . ' —Ä—É–±') : null,
   '–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞' => $wbOrder->converted_price ? (number_format($wbOrder->converted_price / 100, 2, '.', ' ') . ' —Ä—É–±') : null,
   '–í–∞–ª—é—Ç–∞' => $wbOrder->currency,

   // –°—Ç–∞–ª–æ:
   '–¶–µ–Ω–∞' => $wbOrder->price ? CurrencyHelper::formatPrice(CurrencyHelper::fromKopecks($wbOrder->price), $wbOrder->currency_code) : null,
   '–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞' => $wbOrder->converted_price ? CurrencyHelper::formatPrice(CurrencyHelper::fromKopecks($wbOrder->converted_price), $wbOrder->converted_currency_code) : null,
   '–í–∞–ª—é—Ç–∞' => CurrencyHelper::getCurrencyName($wbOrder->currency_code) . ' (' . CurrencyHelper::getCurrencyCode($wbOrder->currency_code) . ')',
   '–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª—é—Ç–∞' => $wbOrder->converted_currency_code ? (CurrencyHelper::getCurrencyName($wbOrder->converted_currency_code) . ' (' . CurrencyHelper::getCurrencyCode($wbOrder->converted_currency_code) . ')') : null,
   ```

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã**:

–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```
–¶–µ–Ω–∞: 103.33 —Ä—É–±
–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞: 422 231.32 —Ä—É–±
–í–∞–ª—é—Ç–∞: BYN
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```
–¶–µ–Ω–∞: 103.33 Br
–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞: 422 231.32 —Å—û–º
–í–∞–ª—é—Ç–∞: –ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —Ä—É–±–ª—å (BYN)
–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª—é—Ç–∞: –£–∑–±–µ–∫—Å–∫–∏–π —Å—É–º (UZS)
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
- ‚úÖ –í—Å–µ 9 –≤–∞–ª—é—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑ –∫–æ–ø–µ–µ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –°–∏–º–≤–æ–ª—ã –≤–∞–ª—é—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (‚ÇΩ, Br, —Å—û–º, ‚Ç∏, –∏ —Ç.–¥.)
- ‚úÖ –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –≤–∞–ª—é—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [CURRENCY_IMPLEMENTATION.md](CURRENCY_IMPLEMENTATION.md)

---

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã

| –ö–æ–¥ ISO 4217 | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –°–∏–º–≤–æ–ª |
|--------------|-----|----------|--------|
| 643 | RUB | –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å | ‚ÇΩ |
| 933 | BYN | –ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —Ä—É–±–ª—å | Br |
| 860 | UZS | –£–∑–±–µ–∫—Å–∫–∏–π —Å—É–º | —Å—û–º |
| 398 | KZT | –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∏–π —Ç–µ–Ω–≥–µ | ‚Ç∏ |
| 417 | KGS | –ö–∏—Ä–≥–∏–∑—Å–∫–∏–π —Å–æ–º | —Å |
| 051 | AMD | –ê—Ä–º—è–Ω—Å–∫–∏–π –¥—Ä–∞–º | ÷è |
| 944 | AZN | –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω—Å–∫–∏–π –º–∞–Ω–∞—Ç | ‚Çº |
| 840 | USD | –î–æ–ª–ª–∞—Ä –°–®–ê | $ |
| 978 | EUR | –ï–≤—Ä–æ | ‚Ç¨ |

---

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
1. [STICKER_PRINTING_GUIDE.md](STICKER_PRINTING_GUIDE.md) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–µ—á–∞—Ç–∏ —Å—Ç–∏–∫–µ—Ä–æ–≤ (85+ —Å—Ç—Ä–∞–Ω–∏—Ü)
2. [STICKER_FIX_SUMMARY.md](STICKER_FIX_SUMMARY.md) - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—á–∞—Ç–∏ —Å—Ç–∏–∫–µ—Ä–æ–≤
3. [TARE_FIX_SUMMARY.md](TARE_FIX_SUMMARY.md) - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –∫–æ—Ä–æ–±–æ–≤
4. [TARE_MODEL_FIX.md](TARE_MODEL_FIX.md) - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ Tare
5. [CURRENCY_IMPLEMENTATION.md](CURRENCY_IMPLEMENTATION.md) - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞–ª—é—Ç
6. [SESSION_SUMMARY_2025-12-15.md](SESSION_SUMMARY_2025-12-15.md) - –≠—Ç–æ—Ç —Ñ–∞–π–ª

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
1. `test-sticker.php` - –¢–µ—Å—Ç –ø–µ—á–∞—Ç–∏ —Å—Ç–∏–∫–µ—Ä–æ–≤
2. `test-currency.php` - –¢–µ—Å—Ç —Ä–∞–±–æ—Ç—ã —Å –≤–∞–ª—é—Ç–∞–º–∏

### –ö–æ–¥
1. `app/Helpers/CurrencyHelper.php` - –•–µ–ª–ø–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞–ª—é—Ç–∞–º–∏
2. `database/migrations/2025_12_15_054624_add_tare_id_to_wb_orders_table.php` - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Å–≤—è–∑–∏ –∫–æ—Ä–æ–±–æ–≤ —Å –∑–∞–∫–∞–∑–∞–º–∏

---

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend (PHP)
1. `app/Http/Controllers/Api/MarketplaceOrderController.php`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è order_ids –≤ integer
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CurrencyHelper –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞–ª—é—Ç
   - –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

2. `app/Services/Marketplaces/Wildberries/WildberriesOrderService.php`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ JSON –æ—Ç–≤–µ—Ç–∞ –æ—Ç WB API
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

3. `app/Models/Tare.php`
   - –ò–∑–º–µ–Ω–µ–Ω–∞ —Å–≤—è–∑—å —Å `MarketplaceOrder` –Ω–∞ `WbOrder`

4. `app/Models/WbOrder.php`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `tare_id` –≤ fillable
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–≤—è–∑—å `tare()`

5. `app/Http/Controllers/Api/TareController.php`
   - –û–±–Ω–æ–≤–ª—ë–Ω –∏–º–ø–æ—Ä—Ç –Ω–∞ `WbOrder`
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏ –∑–∞–∫–∞–∑–æ–≤
   - –ò–∑–º–µ–Ω–µ–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π —Å `wb_*` –Ω–∞ –Ω–æ–≤—ã–µ

### Frontend (JavaScript)
1. `resources/views/pages/marketplace/orders.blade.php`
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ–±–æ–≤ (–¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–µ—Ñ–∏–∫—Å `/marketplace/`)

---

## –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü–µ—á–∞—Ç—å —Å—Ç–∏–∫–µ—Ä–æ–≤ –¥–ª—è –∑–∞–∫–∞–∑–æ–≤ (PNG, 580x400px)
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ–±–æ–≤ –≤ –ø–æ—Å—Ç–∞–≤–∫–∞—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –≤ –∫–æ—Ä–æ–±–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–∞–ª—é—Ç –∑–∞–∫–∞–∑–æ–≤ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ü–µ–Ω –∏–∑ –∫–æ–ø–µ–µ–∫ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–∞–ª—é—Ç—É
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã (—É–∑–±–µ–∫—Å–∫–∏–π —Å—É–º)

### üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–∏–∫–µ—Ä–æ–≤**: –ï—Å–ª–∏ WB API –≤–µ—Ä–Ω—ë—Ç –º–∞—Å—Å–∏–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—Ç–∏–∫–µ—Ä–∞–º–∏, –Ω—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å, –∫–∞–∫ –∏—Ö –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å

2. **–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å—Ç–∏–∫–µ—Ä–æ–≤**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `cleanupOldStickers()` –≤ `WildberriesStickerService`

3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∞–ª—é—Ç**: –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –≤–∞–ª—é—Ç—ã –≤ `CurrencyHelper::CURRENCY_CODES`

4. **–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**: –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `WildberriesStickerController` –≤–º–µ—Å—Ç–æ `MarketplaceOrderController`

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Laravel 11, PHP 8.2+
- **Frontend**: Alpine.js, Axios
- **API**: Wildberries FBS API v3
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã**: ISO 4217 (–∫–æ–¥—ã –≤–∞–ª—é—Ç)

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-12-15
