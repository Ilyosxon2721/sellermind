const i=new class{constructor(){this.isPWA=!1,this.isIOS=!1,this.isAndroid=!1,this.displayMode="browser",this.init()}init(){this.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.isAndroid=/Android/.test(navigator.userAgent),this.detectDisplayMode(),window.isPWA=this.isPWA,window.isPWAInstalled=this.isPWA,window.isIOS=this.isIOS,window.isAndroid=this.isAndroid,this.isPWA?(document.documentElement.classList.add("pwa-mode"),this.isIOS?document.documentElement.classList.add("pwa-ios"):this.isAndroid&&document.documentElement.classList.add("pwa-android"),document.cookie="pwa_installed=true; path=/; max-age=31536000"):(document.documentElement.classList.add("browser-mode"),document.cookie="pwa_installed=false; path=/; max-age=31536000"),this.watchDisplayModeChanges()}detectDisplayMode(){const i=window.matchMedia("(display-mode: standalone)").matches,s=!0===window.navigator.standalone,e=document.referrer.includes("android-app://");this.isPWA=i||s||e,this.isPWA?this.displayMode="standalone":window.matchMedia("(display-mode: fullscreen)").matches?this.displayMode="fullscreen":window.matchMedia("(display-mode: minimal-ui)").matches?this.displayMode="minimal-ui":this.displayMode="browser"}watchDisplayModeChanges(){const i=window.matchMedia("(display-mode: standalone)");i.addEventListener&&i.addEventListener("change",i=>{i.matches&&!this.isPWA&&window.location.reload()})}get isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}get platform(){return this.isIOS?"ios":this.isAndroid?"android":"web"}};window.pwaDetector=i;
